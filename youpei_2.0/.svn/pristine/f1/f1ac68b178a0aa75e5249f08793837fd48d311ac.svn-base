<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
        <title>优培圈</title>
        <link rel="stylesheet" type="text/css" href="/Public/css/home/common.css"/>
        <link rel="stylesheet" type="text/css" href="/Public/css/home/com.css"/>
        <link rel="stylesheet" type="text/css" href="/Public/css/home/schedule.css"/>
        <link rel="stylesheet" type="text/css" href="__PUBLIC__/css/home/pageloader.css"/>
		<script type="text/javascript">
            if(/msie/i.test(navigator.userAgent)){window.location.href="http://www.youpei-exc.com/"}
        </script>
	</head>
    <style>
        .uploadClass{
            color: #fff;
        }
    </style>
	<body class="kap-loading ty-view-all">
        <include file="Common:common"/>
        <header class="header">
        	<a href="javascript:history.back()">
                <img src="../../../../Public/images/back.png" alt="">
            </a>
            <h3>我的课程表</h3>
            <a href="../Index/index.html" class="home" data-icon="Ņ"></a>
        </header>
        <article class="middle">
            <section class="advert">
                <img src="../../../../Public/images/scheduleAdvert.jpg" alt="">
            </section>
            <section class="date">
						<div class="boxshaw list" id="schedule-box">
							
						</div>
						<div class="arrange">
	                    <div class="classTime">
	                        <span>上课时间：</span>
	                        <span class="time">2017年9月4日</span>
	                    </div>
	                    <ul class="arrangeList">
	                        <li>
	                            <div class="timeLong">
	                                <span>10:00</span>
	                                <span>—</span>
	                                <span>11:00</span>
	                                <label>请假</label>
	                            </div>
	                            <div class="classText">
	                                <h3>史太姆积木课/48课时</h3>
	                                <p class="teacher">上课老师：<span>Terry老师</span></p>
	                                <p class="classNum">当前课次：<span>10/48</span></p>
	                                <p class="address">上课地址：<span>广州海珠区燕子岗68号</span><img src="../../../../Public/images/scheduleAddress.png" alt=""></p>
	                                <p class="phone">联系电话：<span>020-32548965</span><img src="../../../../Public/images/phone.png" alt=""></p>
	                            </div>
	                        </li>
	                        <li>
	                            <div class="timeLong">
	                                <span>15:00</span>
	                                <span>—</span>
	                                <span>16:00</span>
	                                <label>请假</label>
	                            </div>
	                            <div class="classText">
	                                <h3>史太姆绘画课/16课时</h3>
	                                <p class="teacher">上课老师：<span>KK老师</span></p>
	                                <p class="classNum">当前课次：<span>2/16</span></p>
	                                <p class="address">上课地址：<span>广州海珠区燕子岗68号</span><img src="../../../../Public/images/scheduleAddress.png" alt=""></p>
	                                 <p class="phone">联系电话：<span>020-32548965</span><img src="../../../../Public/images/phone.png" alt=""></p>
	                            </div>
	                        </li>
	                    </ul>
	                    <div>
	                        <span class="uploadClass" attr_day="" attr_month="" attr_year="">上传课程</span>
	                    </div>
	                    <div class="uploadInfo">
	                        <img src="../../../../Public/images/addClass.jpg" alt="">
	                        <span>添加行程</span>
	                    </div>
	                    <div class="upload" style="display: none">
	                        <from>
	                            <input type="text" name="class_title" placeholder="课程名称">
	                            <input type="text" name="teacher" placeholder="上课老师">
	                            <input type="text" name="username" placeholder="学生名">
	                            <input type="text" name="class_hour" placeholder="课次"><br>
	                            <input type="time" name="start_hour_time" value="09:00">
	                            <input type="time" name="end_hour_time" value="11:00">
	                            <button id="post">提交</button>
	                        </from>
	                    </div>
	                </div>  
            </section>            
        </article>
        <script src="/Public/Home/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="/Public/js/home/dateSchedule.js" type="text/javascript" charset="utf-8"></script>
        <script src="/Public/Home/js/pageloader.js" type="text/javascript" charset="utf-8"></script>
        <script src="/Public/js/home/rem.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript">
        	var mySchedule = new Schedule({
				el: '#schedule-box',
				//date: '2018-9-20',
				clickCb: function (y,m,d) {
					
				},
				nextMonthCb: function (y,m,d) {
					$(".other-month span").html("")
					if($(".schedule-bd li").length==35){
						$(".schedule_bd").append(
							'<li class="current-month"><span title="2017-10-01" class="currentDate dayStyle ">1</span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'
						)
					}
					var length=$(".dayStyle").length;
	for(var i=0; i<length; i++){
		console.log($(".dayStyle").eq(i).html())
		if($(".dayStyle").eq(i).html()==5){
			$(".dayStyle").eq(i).css("color","red")
		}
	}
				},
				nextYeayCb: function (y,m,d) {
					
				},
				prevMonthCb: function (y,m,d) {
					$(".other-month span").html("")
					console.log($(".schedule-bd li").length)
					if($(".schedule-bd li").length==35){
						$(".schedule_bd").append(
							'<li><span></span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'+
							'<li><span></span></li>'
						)
					}
				},
				prevYearCb: function (y,m,d) {
					
				}
			});
			$(".other-month span").html("")
			console.log($(".schedule-bd li").length)
			if($(".schedule-bd li").length==35){
				$(".schedule_bd").append(
					'<li><span></span></li>'+
					'<li><span></span></li>'+
					'<li><span></span></li>'+
					'<li><span></span></li>'+
					'<li><span></span></li>'+
					'<li><span></span></li>'+
					'<li><span></span></li>'
				)
			}
            $('.uploadClass').click(function () {
                $('.upload').show();
            })
        $('#post').click(function () {
            var year = $('.uploadClass').attr('attr_year');
            var month = $('.uploadClass').attr('attr_month');
            var day = $('.uploadClass').attr('attr_day');
            var data = {
                start_day_time : year + month + day,
                class_title : $("input[name='class_title']").val(),
                teacher : $("input[name='teacher']").val(),
                username : $("input[name='username']").val(),
                class_hour : $("input[name='class_hour']").val(),
                start_hour_time : $("input[name='start_hour_time']").val(),
                end_hour_time : $("input[name='end_hour_time']").val(),
            };
            var url = '/index.php/Personal/uploadClass';
            $.post(url,data,function (result) {
                if(result.status == 1){
                    alert(result.message);
                }else{
                    alert(result.message);
                }
            },'json')
        })
        </script>
	</body>
</html>